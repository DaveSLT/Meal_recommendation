{% extends "base.html" %}

{% block title %}My Preferences{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h3 class="mb-0">Set Your Meal Preferences</h3>
            </div>
            <div class="card-body">
                <form method="POST">
                    <div class="mb-3">
                        <label for="diet_type" class="form-label">Diet Type</label>
                        <select class="form-select" id="diet_type" name="diet_type" required>
                            <option value="" disabled {% if not preferences %}selected{% endif %}>Select your diet type</option>
                            <option value="omnivore" {% if preferences and preferences.diet_type == 'omnivore' %}selected{% endif %}>Omnivore (Eat everything)</option>
                            <option value="vegetarian" {% if preferences and preferences.diet_type == 'vegetarian' %}selected{% endif %}>Vegetarian (No meat)</option>
                            <option value="vegan" {% if preferences and preferences.diet_type == 'vegan' %}selected{% endif %}>Vegan (No animal products)</option>
                            <option value="pescatarian" {% if preferences and preferences.diet_type == 'pescatarian' %}selected{% endif %}>Pescatarian (Vegetarian + seafood)</option>
                            <option value="keto" {% if preferences and preferences.diet_type == 'keto' %}selected{% endif %}>Keto (Low carb, high fat)</option>
                            <option value="paleo" {% if preferences and preferences.diet_type == 'paleo' %}selected{% endif %}>Paleo (Whole foods, no processed)</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="allergies" class="form-label">Allergies/Intolerances</label>
                        <input type="text" class="form-control" id="allergies" name="allergies" placeholder="e.g., peanuts, shellfish, gluten (comma separated)" value="{{ preferences.allergies if preferences else '' }}">
                        <div class="form-text">List any food allergies or intolerances you have (comma separated)</div>
                    </div>
                    <div class="mb-3">
                        <label for="favorite_cuisine" class="form-label">Favorite Cuisine</label>
                        <select class="form-select" id="favorite_cuisine" name="favorite_cuisine">
                            <option value="" {% if not preferences or not preferences.favorite_cuisine %}selected{% endif %}>No preference</option>
                            <option value="Italian" {% if preferences and preferences.favorite_cuisine == 'Italian' %}selected{% endif %}>Italian</option>
                            <option value="Mexican" {% if preferences and preferences.favorite_cuisine == 'Mexican' %}selected{% endif %}>Mexican</option>
                            <option value="Asian" {% if preferences and preferences.favorite_cuisine == 'Asian' %}selected{% endif %}>Asian</option>
                            <option value="Indian" {% if preferences and preferences.favorite_cuisine == 'Indian' %}selected{% endif %}>Indian</option>
                            <option value="American" {% if preferences and preferences.favorite_cuisine == 'American' %}selected{% endif %}>American</option>
                            <option value="Mediterranean" {% if preferences and preferences.favorite_cuisine == 'Mediterranean' %}selected{% endif %}>Mediterranean</option>
                            <option value="Middle Eastern" {% if preferences and preferences.favorite_cuisine == 'Middle Eastern' %}selected{% endif %}>Middle Eastern</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="disliked_ingredients" class="form-label">Disliked Ingredients</label>
                        <input type="text" class="form-control" id="disliked_ingredients" name="disliked_ingredients" placeholder="e.g., mushrooms, olives, cilantro (comma separated)" value="{{ preferences.disliked_ingredients if preferences else '' }}">
                        <div class="form-text">List any ingredients you don't like (comma separated)</div>
                    </div>
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary">Save Preferences</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}